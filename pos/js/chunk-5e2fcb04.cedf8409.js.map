{"version":3,"sources":["webpack:///./src/views/Home/index.vue?9c7d","webpack:///src/views/Home/index.vue","webpack:///./src/views/Home/index.vue?bfa2","webpack:///./src/views/Home/index.vue","webpack:///./src/views/Home/index.vue?850d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","_l","item","index","key","class","current","currentIndex","on","$event","selectMenu","_v","_s","staticRenderFns","data","goods","listHeight","scrollY","item1","item2","computed","height1","height2","scroolmenuitem","i","beforeCreate","console","log","created","$nextTick","methods","_initScroll","menuScroll","click","foodsScroll","probeType","_calulateHeight","push","height","clientHeight","scrollToElement","el","event","_constructed","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACG,IAAI,cAAcD,YAAY,gBAAgB,CAACF,EAAG,KAAKJ,EAAIQ,GAAIR,EAAS,OAAE,SAASS,EAAKC,GAAO,OAAON,EAAG,KAAK,CAACO,IAAIF,EAAKH,YAAY,YAAYM,MAAM,CAAEC,QAASb,EAAIc,eAAiBJ,GAAQK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,WAAWP,EAAOM,MAAW,CAACZ,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACN,EAAIkB,GAAGlB,EAAImB,GAAGV,WAAa,KAAKL,EAAG,MAAM,CAACG,IAAI,eAAeD,YAAY,iBAAiB,CAACF,EAAG,KAAKJ,EAAIQ,GAAIR,EAAS,OAAE,SAASS,GAAM,OAAOL,EAAG,KAAK,CAACO,IAAIF,EAAKH,YAAY,4BAA4B,CAACF,EAAG,KAAK,CAACE,YAAY,SAAS,CAACN,EAAIkB,GAAGlB,EAAImB,GAAGV,GAAM,QAAQL,EAAG,KAAKJ,EAAIQ,GAAIR,EAAS,OAAE,SAASS,GAAM,OAAOL,EAAG,KAAK,CAACO,IAAIF,EAAKH,YAAY,wBAAwB,CAACN,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGV,GAAM,UAAS,QAAO,QACv0BW,EAAkB,G,YCiCtB,GACEC,KADF,WAEI,MAAO,CACLC,MAAO,GACPC,WAAY,GACZC,QAAS,EACTC,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC/DC,MAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,OAGrCC,SAAU,CACRb,aADJ,WAEM,IAAK,IAAX,kCACQ,IAAR,qBACA,uBACQ,GAAIb,KAAKuB,SAAWI,GAAW3B,KAAKuB,QAAUK,EAE5C,OADA5B,KAAK6B,eAAeC,GACbA,EAGX,OAAO,IAGXC,aAvBF,WAwBIC,QAAQC,IAAI,IAAKjC,OAEnBkC,QA1BF,WA0BA,WACIlC,KAAKmC,WAAU,WACb,EAAN,cACM,EAAN,sBAGEC,QAAS,CACPC,YADJ,WACA,WACMrC,KAAKsC,WAAa,IAAI,EAA5B,6BACQC,OAAO,IAETvC,KAAKwC,YAAc,IAAI,EAA7B,8BACQD,OAAO,EACPE,UAAW,IAEbzC,KAAKwC,YAAY1B,GAAG,UAAU,SAApC,GACQ,EAAR,sCAGI4B,gBAbJ,WAcM,IAAN,iDACA,kBAGA,IACM1C,KAAKsB,WAAWqB,KAAKC,GACrB,IAAK,IAAX,oBACQ,IAAR,OAEQA,GAAUpC,EAAKqC,aACf7C,KAAKsB,WAAWqB,KAAKC,KAGzBf,eA3BJ,SA2BA,GACMG,QAAQC,IAAIxB,GAEZ,IAAN,gDACA,aAEA,OACMT,KAAKsC,WAAWQ,gBAAgBC,EAAI,MAEtC/B,WApCJ,SAoCA,KACM,GAAKgC,EAAMC,aAAX,CAGA,IAAN,iDACA,kBAEA,OACMjD,KAAKwC,YAAYM,gBAAgBC,EAAI,SC9G8T,I,wBCQrWG,EAAY,eACd,EACApD,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAA+B,E,oECnBf,yBAA4jB,EAAG","file":"js/chunk-5e2fcb04.cedf8409.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('div',{ref:\"menuWrapper\",staticClass:\"menu-wrapper\"},[_c('ul',_vm._l((_vm.item1),function(item,index){return _c('li',{key:item,staticClass:\"menu-item\",class:{ current: _vm.currentIndex === index },on:{\"click\":function($event){return _vm.selectMenu(index, $event)}}},[_c('span',{staticClass:\"text border-1px\"},[_vm._v(_vm._s(item))])])}),0)]),_c('div',{ref:\"foodsWrapper\",staticClass:\"foods-wrapper\"},[_c('ul',_vm._l((_vm.item1),function(item){return _c('li',{key:item,staticClass:\"food-list food-list-hook\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(item)+\"dd\")]),_c('ul',_vm._l((_vm.item2),function(item){return _c('li',{key:item,staticClass:\"food-item border-1px\"},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"goods\">\r\n    <div ref=\"menuWrapper\" class=\"menu-wrapper\">\r\n      <ul>\r\n        <li\r\n          v-for=\"(item, index) in item1\"\r\n          :key=\"item\"\r\n          class=\"menu-item\"\r\n          :class=\"{ current: currentIndex === index }\"\r\n          @click=\"selectMenu(index, $event)\"\r\n        >\r\n          <span class=\"text border-1px\">{{ item }}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div ref=\"foodsWrapper\" class=\"foods-wrapper\">\r\n      <ul>\r\n        <li v-for=\"item in item1\" :key=\"item\" class=\"food-list food-list-hook\">\r\n          <h1 class=\"title\">{{ item }}dd</h1>\r\n          <ul>\r\n            <!-- eslint-disable-next-line vue/no-template-shadow -->\r\n            <li v-for=\"item in item2\" :key=\"item\" class=\"food-item border-1px\">\r\n              {{ item }}\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport BScroll from 'better-scroll'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      goods: [],\r\n      listHeight: [],\r\n      scrollY: 0,\r\n      item1: [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 22, 33, 44, 55, 66, 77, 88],\r\n      item2: ['a', 'b', 'c', 'd', 'e', 'f']\r\n    }\r\n  },\r\n  computed: {\r\n    currentIndex() {\r\n      for (let i = 0; i < this.listHeight.length; i++) {\r\n        const height1 = this.listHeight[i]\r\n        const height2 = this.listHeight[i + 1]\r\n        if (this.scrollY >= height1 && this.scrollY < height2) {\r\n          this.scroolmenuitem(i)\r\n          return i\r\n        }\r\n      }\r\n      return 0\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    console.log(111, this)\r\n  },\r\n  created() {\r\n    this.$nextTick(() => {\r\n      this._initScroll()\r\n      this._calulateHeight()\r\n    })\r\n  },\r\n  methods: {\r\n    _initScroll() {\r\n      this.menuScroll = new BScroll(this.$refs.menuWrapper, {\r\n        click: true\r\n      })\r\n      this.foodsScroll = new BScroll(this.$refs.foodsWrapper, {\r\n        click: true,\r\n        probeType: 3\r\n      })\r\n      this.foodsScroll.on('scroll', pos => {\r\n        this.scrollY = Math.abs(Math.round(pos.y))\r\n      })\r\n    },\r\n    _calulateHeight() {\r\n      const foodList = this.$refs.foodsWrapper.getElementsByClassName(\r\n        'food-list-hook'\r\n      )\r\n\r\n      let height = 0\r\n      this.listHeight.push(height)\r\n      for (let i = 0; i < foodList.length; i++) {\r\n        const item = foodList[i]\r\n\r\n        height += item.clientHeight\r\n        this.listHeight.push(height)\r\n      }\r\n    },\r\n    scroolmenuitem(index) {\r\n      console.log(index)\r\n\r\n      const menuitemlist = this.$refs.menuWrapper.getElementsByClassName(\r\n        'menu-item'\r\n      )\r\n      const el = menuitemlist[index]\r\n      this.menuScroll.scrollToElement(el, 300)\r\n    },\r\n    selectMenu(index, event) {\r\n      if (!event._constructed) {\r\n        return\r\n      }\r\n      const foodList = this.$refs.foodsWrapper.getElementsByClassName(\r\n        'food-list-hook'\r\n      )\r\n      const el = foodList[index]\r\n      this.foodsScroll.scrollToElement(el, 300)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\nborder-1px($color) {\r\n  position: relative;\r\n\r\n  &:after {\r\n    display: block;\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    border: 1px solid $color;\r\n    content: '';\r\n  }\r\n}\r\n\r\n.goods {\r\n  display: flex;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n\r\n  .menu-wrapper {\r\n    flex: 0 0 80px;\r\n    width: 80px;\r\n    background: #f3f5f7;\r\n\r\n    .menu-item {\r\n      display: table;\r\n      height: 54px;\r\n      width: 56px;\r\n      padding: 0 12px;\r\n      line-height: 14px;\r\n\r\n      &.current {\r\n        background: #ffffff;\r\n        font-weight: 700;\r\n      }\r\n\r\n      .text {\r\n        display: table-cell;\r\n        width: 56px;\r\n        vertical-align: middle;\r\n        border-1px(rgba(7, 17, 27, 0.1));\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .foods-wrapper {\r\n    flex: 1;\r\n\r\n    .title {\r\n      padding-left: 14px;\r\n      height: 26px;\r\n      line-height: 26px;\r\n      border-left: 2px solid #d9dde1;\r\n      font-size: 12px;\r\n      color: rgb(147, 153, 159);\r\n      background: #f3f5f7;\r\n    }\r\n\r\n    .food-item {\r\n      display: flex;\r\n      margin: 18px;\r\n      padding-bottom: 18px;\r\n      border-1px(rgba(7, 17, 27, 0.1));\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a65293e0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a65293e0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a65293e0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a65293e0&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a65293e0&lang=stylus&scoped=true&\""],"sourceRoot":""}